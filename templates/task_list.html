{% extends 'base.html' %}
{% load bootstrap4 %}
{% block title %} HOME {% endblock %} 
{% block content %}




  <form class="needs-validation" novalidate>
  <div class="form-row mb-3">
    <div class="col-md-4">
      <label for="validationCustom03">Assigned to:</label>
      <select class="form-control" id="status">
        {% for user in users %}
        <option>{{ user }}</option>
        {% endfor %}
      </select>
      <div class="invalid-feedback">
        Please provide a valid city.
      </div>
    </div>

        <div class="col-auto my-1">
          <label class="mr-sm-2" for="status">Status:</label>
          <select class="form-control" id="status">
            {% for status_value in filter.form.status %}
            <option>{{ status_value }}</option>
            {% endfor %}
          </select>
        </div>

    <div class="col-md-4">
      <label for="validationCustom05">Tags</label>
      <input type="text" class="form-control" id="validationCustom05" placeholder="Zip">
      <div class="invalid-feedback">
        Please provide a valid zip.
      </div>
    </div>
  </div>
  <button class="btn btn-primary col-md-2 mr-2" type="submit" >Show</button>
  <a class="btn btn-primary col-md-2 mr-2" href="{% url 'mainpage:home' %}">Reset</a>
  <button name='mytasks' action="{% url 'mainpage:mytasks' %}" class="btn btn-success col-md-2 mr-2" type='submit'>My tasks</button>
</form>



    <form method="get" action="" novalidate >{% csrf_token %}
    <div class="form-row ">
        <div class="col">
            {% bootstrap_field filter.form.status %} 
        </div>

        <div class="col">
            {% bootstrap_field filter.form.assigned_to  %}
        </div>
        <div class="col">
            {% bootstrap_field filter.form.tags %}
        </div>
      </div>

    <div class="form-row justify-content-center mt-3">
        <button class="btn btn-primary col-md-2 mr-2" type="submit" >Show</button>
        <a class="btn btn-primary col-md-2 mr-2" href="{% url 'mainpage:home' %}">Reset</a>
        <button name='mytasks' action="{% url 'mainpage:mytasks' %}" class="btn btn-success col-md-2 mr-2" type='submit'>My tasks</button>
    </div>
    </form>
    



    <div class="div div-hover div-dark mt-5">
        <div class="row mb-2 justify-content-center border-bottom border-secondary  font-weight-bold text-left position-relative">
        
                    <div class="col-sm-2 position-static">Name</div>
                    <div class="col-sm-3">Description</div>
                    <div class="col-sm">Status</div>
                    <div class="col-sm">Creator</div>
                    <div class="col-sm">Assigned</div>
                    <div class="col-sm-2">Tags</div>
        </div>
    </div>

    {% for task in filter.qs %}
    <div class="row row-hover justify-content-center text-left position-relative">
            <div class="col-sm-2 position-static"><a class="stretched-link text-decoration-none" href="{{ task.get_absolute_url }}">
                {{ task.name|truncatewords:7 }}</a></div>
            <div class="col-sm-3">{{ task.description|truncatewords:10|linebreaks }}</div>
            <div class="col-sm">{{ task.status }}</div>
            <div class="col-sm">{{ task.creator }}</div>
            <div class="col-sm">{{ task.assigned_to }}</div>
            <div class="col-sm-2">{{ task.tags.all|join:", " }}</div>
    </div>
    {% endfor %}

    <p><a href="{% url 'mainpage:new_task'%}" class="btn btn-lg btn-success mt-4">Add new</a></p>
{% endblock %}
